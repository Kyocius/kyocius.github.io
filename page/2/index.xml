<?xml-stylesheet href="/rss.xsl" type="text/xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>æ¸¸å°”æ¸¯</title>
    <link>https://kyocius.github.io/</link>
    <description>Recent content on æ¸¸å°”æ¸¯</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <copyright>Kyocius. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</copyright>
    <lastBuildDate>Mon, 26 Aug 2024 14:19:05 +0800</lastBuildDate>
    
        <atom:link href="https://kyocius.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>Rx.NET å“åº”å¼ç¼–ç¨‹æŒ‡åŒ— Ex - å‡½æ•°å¼ &amp; æµå¼æ¥å£</title>
        <link>https://kyocius.github.io/posts/dotnet/reactive/rx-magic-ex/</link>
        <pubDate>Tue, 09 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://kyocius.github.io/posts/dotnet/reactive/rx-magic-ex/</guid>
        <description>æ¸¸å°”æ¸¯ https://kyocius.github.io/posts/dotnet/reactive/rx-magic-ex/ -&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;è¿™ä¸€ç« æ˜¯ç‹¬ç«‹äºæ­£å¼ç« èŠ‚çš„ç•ªå¤–ï¼Œè¡¥å……ä¸€ä¸‹ C# &lt;strong&gt;å‡½æ•°å¼ç¼–ç¨‹&lt;/strong&gt;ï¼ˆFunctional Programmingï¼‰ä»¥åŠ&lt;strong&gt;æµå¼æ¥å£&lt;/strong&gt;ï¼ˆFluent APIï¼‰çš„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;p&gt;ç­‰ç­‰ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨å­¦ Rx.NET å—ï¼Œæ€ä¹ˆåˆè·‘åˆ°å‡½æ•°å¼äº†ï¼Ÿ (ï¼ƒÂ°Ğ”Â°)&lt;/p&gt;
&lt;p&gt;ä½  å…ˆ åˆ« æ€¥ï¼ŒäºŒè€…å¹¶ä¸å†²çªã€‚&lt;/p&gt;
&lt;p&gt;Rx.NET æä¾›çš„æ–¹æ³•å¤§éƒ¨åˆ†éƒ½æ˜¯å‡½æ•°å¼çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸Šä¸€ç« å­¦åˆ°çš„ &lt;code&gt;FromEventPattern&lt;/code&gt; æ–¹æ³•ï¼Œå°±æ˜¯ä¸€ä¸ª&lt;strong&gt;é«˜é˜¶å‡½æ•°&lt;/strong&gt;ï¼ˆHigh-Order Functionï¼‰ï¼Œå› ä¸ºå®ƒçš„å‚æ•°ä¹Ÿæ˜¯å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº›è€å¤è‘£ Java ç¨‹åºå‘˜è®¤ä¸ºï¼ŒC# å’Œ Java ä¸€æ ·éƒ½æ˜¯çº¯é¢å‘å¯¹è±¡è¯­è¨€ï¼ˆPure OOPï¼‰ï¼Œè¿™æ˜¯å®Œå…¨é”™è¯¯çš„ã€‚ç»è¿‡äºŒåå¹´çš„å‘å±•ï¼ŒC# æ—©å·²è¿›åŒ–æˆä¸€é—¨å¤šèŒƒå¼è¯­è¨€äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‡½æ•°å¼ç¼–ç¨‹&#34;&gt;å‡½æ•°å¼ç¼–ç¨‹&lt;/h2&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•ç”¨ C# ç¼–å†™å‡½æ•°å¼ä»£ç å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å›é¡¾ä¸€ä¸‹åŸºç¡€çŸ¥è¯†å§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å§”æ‰˜-delegate&#34;&gt;å§”æ‰˜ Delegate&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†ä¼ é€’å‡½æ•°ï¼ŒC# è€æ—©å°±åŠ å…¥äº†å§”æ‰˜ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;delegate&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;bool&lt;/span&gt; MyDelegateType (&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; first, &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; second);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º &lt;code&gt;MyDelegateType&lt;/code&gt; çš„å§”æ‰˜ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿™æ ·ä¸ºå§”æ‰˜èµ‹å€¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;MyDelegateType myDel;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;myDel += &amp;lt;ä¸€äº›å‡½æ•°&amp;gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;myDel(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;first&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;second&amp;#34;&lt;/span&gt;); &lt;span style=&#34;color:#6272a4&#34;&gt;// è¿™æ ·è°ƒç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åŒ¿åæ–¹æ³•-anonymous-methods&#34;&gt;åŒ¿åæ–¹æ³• Anonymous methods&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;myDel = &lt;span style=&#34;color:#ff79c6&#34;&gt;delegate&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; first, &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; second)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; first.Length == second.Length;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;lambda-è¡¨è¾¾å¼&#34;&gt;Lambda è¡¨è¾¾å¼&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// ğŸ‘‡ è¿™å°±æ˜¯ lambda&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;MyDelegateType x = (s1,s2) =&amp;gt; s1 == s2; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// ğŸ‘‡ åŒ¿åå‡½æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;MyDelegateType y = &lt;span style=&#34;color:#ff79c6&#34;&gt;delegate&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; s1,&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; s2) { &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; s1 == s2; }; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;func-å’Œ-action&#34;&gt;Func å’Œ Action&lt;/h3&gt;
&lt;p&gt;è¿™ä¿©éƒ½æ˜¯ .NET é¢„å®šä¹‰å¥½çš„æ ‡å‡†å§”æ‰˜ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´åˆ«å‚»ä¹ä¹åœ°è‡ªå·±å®šä¹‰å§”æ‰˜ç±»å‹å•¦ï¼Œç”¨å®ƒä¿©å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;.NET é¢„å®šä¹‰äº† 17 ç§ Func å’Œ Action å§”æ‰˜ï¼Œå…¨æ”¾åœ¨ &lt;code&gt;System&lt;/code&gt; åç§°ç©ºé—´ä¸‹ã€‚&lt;/p&gt;
&lt;h4 id=&#34;action&#34;&gt;Action&lt;/h4&gt;
&lt;p&gt;Action ç”¨äº&lt;strong&gt;æ— è¿”å›å€¼&lt;/strong&gt;çš„å‡½æ•°å§”æ‰˜ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹çœ‹å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// ğŸ‘‡ æ— å‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;delegate&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; Action();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// ğŸ‘‡ ä¸¤ä¸ªå‚æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;delegate&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; Action&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; T1, &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; T2&amp;gt;(T1 arg1, T2 arg2);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç®€å•ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; ForEach&amp;lt;T&amp;gt;(IEnumerable&amp;lt;T&amp;gt; collection, Action&amp;lt;T&amp;gt; action)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; item &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; collection)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        action(item);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// ğŸ‘‡ å®Œæ•´ä½¿ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ForEach(&lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt;[] { &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;b&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;c&amp;#34;&lt;/span&gt; }, n =&amp;gt; Console.WriteLine(n));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// ğŸ‘‡ çœç•¥å½¢å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ForEach(&lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt;[] { &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;b&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;c&amp;#34;&lt;/span&gt; }, Console.WriteLine);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;func&#34;&gt;Func&lt;/h4&gt;
&lt;p&gt;Func ç”¨äº&lt;strong&gt;æœ‰è¿”å›å€¼&lt;/strong&gt;çš„å‡½æ•°å§”æ‰˜ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹çœ‹å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;delegate&lt;/span&gt; TResult Func&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;out&lt;/span&gt; TResult&amp;gt;(); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;delegate&lt;/span&gt; TResult Func&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; T1,â€¦,T16, &lt;span style=&#34;color:#ff79c6&#34;&gt;out&lt;/span&gt; TResult&amp;gt;(T1 arg,â€¦,T16 arg16);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç®€å•ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; ForEach&amp;lt;T&amp;gt;(IEnumerable&amp;lt;T&amp;gt; collection, Action&amp;lt;T&amp;gt; action,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; Func&amp;lt;T, &lt;span style=&#34;color:#8be9fd&#34;&gt;bool&lt;/span&gt;&amp;gt; predicate) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#ff79c6&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; item &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; collection)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (predicate(item)) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;             action(item);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ‡’åŠ è½½-lazyt&#34;&gt;æ‡’åŠ è½½ &lt;code&gt;Lazy&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹çœ‹ Func ä½œä¸ºå·¥å‚å‡½æ•°çš„ä½œç”¨å§ã€‚&lt;/p&gt;
&lt;p&gt;ä½ æœ‰ä¸€ä¸ªå¾ˆè€—æ—¶çš„ç±»ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;HeavyClass&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// åˆå§‹åŒ–éå¸¸è€—æ—¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ è¿˜æœ‰ä¸ªç±»ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;ThinClass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;private&lt;/span&gt; HeavyClass _heavy;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; HeavyClass TheHeavy
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;get&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (_heavy == &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            { 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                _heavy = &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; HeavyClass(); &lt;span style=&#34;color:#6272a4&#34;&gt;// å»¶è¿ŸåŠ è½½æ—¶é—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            } 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; _heavy;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; SomeMethod()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; myHeavy = TheHeavy; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;// çœç•¥åé¢çš„ä½¿ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™å°±æ˜¯åœ¨ Java ä¸­å¸¸è§çš„æ„å»ºæ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å¦‚æœä½ æœ‰ 10 ä¸ªéœ€è¦å»¶è¿ŸåŠ è½½çš„å±æ€§å‘¢ï¼Ÿåƒè¿™æ ·ä¸€ä¸€æ‰‹å†™ &lt;code&gt;get&lt;/code&gt; æ–¹æ³•æœªå…ä¹Ÿå¤ªæŠ˜ç£¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¤ªç¬¨äº†ï¼Œåœ¨ C# ä¸­æ‰ä¸è¿™ä¹ˆåšï¼&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥ä½¿ç”¨ &lt;code&gt;System&lt;/code&gt; ç©ºé—´ä¸‹çš„æ‡’åŠ è½½ç±» &lt;code&gt;Lazy&amp;lt;T&amp;gt;&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;ClassWithLazy&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Lazy&amp;lt;HeavyClass&amp;gt; _lazyHeavyClass = &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Lazy&amp;lt;HeavyClass&amp;gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; SomeMethod()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; myHeavy = _lazyHeavyClass.Value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#6272a4&#34;&gt;//ä½¿ç”¨ myHeavy&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£å¦‚æœ &lt;code&gt;HeavyClass&lt;/code&gt; ç±»çš„æ„é€ æ–¹æ³•éœ€è¦å‚æ•°å’‹åŠï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¼ é€’ä¸ª &lt;code&gt;Func&lt;/code&gt; ç»™å®ƒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Lazy&amp;lt;HeavyClass&amp;gt; _lazyHeavyClass = &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Lazy&amp;lt;HeavyClass&amp;gt;(() =&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; heavy = &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; HeavyClass(...); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ... 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; heavy;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;æµå¼æ¥å£-fluent-api&#34;&gt;æµå¼æ¥å£ Fluent API&lt;/h2&gt;
&lt;p&gt;æµå¼æ¥å£ï¼ˆFluent APIï¼‰æ˜¯ä¸€ç§æ–¹æ³•è°ƒç”¨é£æ ¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;StringBuilder sbuilder = &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; StringBuilder();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; result = sbuilder
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .AppendLine(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Fluent&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .AppendLine(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Interfaces&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .AppendLine(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Are&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .AppendLine(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Awesome&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .ToString();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹çœ‹ç ´æ™“çš„ &lt;a href=&#34;https://github.com/SinoAHpx/ModuleLauncher.Re/blob/main/README_ZH.md&#34;&gt;ModuleLauncher.Re&lt;/a&gt; æ˜¯æ€ä¹ˆå†™çš„å§ï¼š&lt;del&gt;ç ´æ™“æ‰“é’±ï¼&lt;/del&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; process = &lt;span style=&#34;color:#ff79c6&#34;&gt;await&lt;/span&gt; minecraft.WithAuthentication(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;lt;player&amp;gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .WithJava(&lt;span style=&#34;color:#f1fa8c&#34;&gt;@&amp;#34;&amp;lt;java&amp;gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .LaunchAsync();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥æˆ‘ä»¬åŠ¨æ‰‹å†™ä¸€ä¸ªæµå¼æ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¹³å¸¸ä¸º &lt;code&gt;List&lt;/code&gt; æ·»åŠ å…ƒç´ ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; words = &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; List&amp;lt;&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;&amp;gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;words.Add(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;This&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;words.Add(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Feels&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;words.Add(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Weird&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸å¤Ÿä¼˜é›…ï¼ç”¨æµå¼æ¥å£å†™ä¸ªæ‰©å±•æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;ListExtensions&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;static&lt;/span&gt; List&amp;lt;T&amp;gt; AddItem&amp;lt;T&amp;gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt; List&amp;lt;T&amp;gt; list, T item)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        list.Add(item);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; list;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ–¹æ³•é“¾äº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; words = &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; List&amp;lt;&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;&amp;gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;words.AddItem(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;This&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     .AddItem(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Feels&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     .AddItem(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Weird&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Awesomeï¼ç¬é—´å°±ç®€æ´å¤šäº†ã€‚&lt;/p&gt;
- https://kyocius.github.io/posts/dotnet/reactive/rx-magic-ex/ - Kyocius. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</description>
        </item>
    
    
    
        <item>
        <title>Rx.NET å“åº”å¼ç¼–ç¨‹æŒ‡åŒ— 02 - åŸºæœ¬ä½¿ç”¨</title>
        <link>https://kyocius.github.io/posts/dotnet/reactive/rx-magic-2/</link>
        <pubDate>Mon, 08 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://kyocius.github.io/posts/dotnet/reactive/rx-magic-2/</guid>
        <description>æ¸¸å°”æ¸¯ https://kyocius.github.io/posts/dotnet/reactive/rx-magic-2/ -&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;åœ¨ä¸Šä¸€ç« é‡Œï¼Œæˆ‘ä»¬å­¦ä¹ äº†å“åº”å¼çš„åŸºæœ¬æ¦‚å¿µã€‚åœ¨è¿™ä¸€ç« èŠ‚ï¼Œæˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ª&lt;strong&gt;è‚¡ç¥¨ç›‘æ§&lt;/strong&gt;ç¨‹åºã€‚é¦–å…ˆæˆ‘ä»¬å°†ä½¿ç”¨ä¼ ç»Ÿçš„ .NET äº‹ä»¶ç³»ç»Ÿæ¥å†™ä¸€æ¬¡ï¼Œä¹‹åå†é€šè¿‡ Rx æ¥é‡æ„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¼ ç»Ÿäº‹ä»¶å†™æ³•&#34;&gt;ä¼ ç»Ÿäº‹ä»¶å†™æ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆç¼–å†™ä¸€ä¸ªç±»ï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªäº‹ä»¶å±æ€§ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;StockTicker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;event&lt;/span&gt; EventHandler&amp;lt;StockTick&amp;gt; StockTick; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç¼–å†™ä¸€ä¸ªç±»åŒ…å«æˆ‘ä»¬çš„æ•°æ®ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;StockTick&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; QuoteSymbol { &lt;span style=&#34;color:#ff79c6&#34;&gt;get&lt;/span&gt;; &lt;span style=&#34;color:#ff79c6&#34;&gt;set&lt;/span&gt;; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;decimal&lt;/span&gt; Price { &lt;span style=&#34;color:#ff79c6&#34;&gt;get&lt;/span&gt;; &lt;span style=&#34;color:#ff79c6&#34;&gt;set&lt;/span&gt;; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªç±»æ¥ç›‘å¬å˜åŒ–ï¼Œå¹¶è®¢é˜…äº‹ä»¶ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;StockMonitor&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{ 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; StockMonitor(StockTicker ticker)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ticker.StockTick += OnStockTick; &lt;span style=&#34;color:#6272a4&#34;&gt;// OnStockTick æ³¨å†Œäº‹ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å› ä¸ºæˆ‘ä»¬éœ€è¦æ¯”è¾ƒè‚¡ç¥¨ä»·æ ¼çš„å˜åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å­—å…¸æ¥å­˜å‚¨å…ˆå‰çš„è‚¡ç¥¨æ•°æ®ã€‚ç¼–å†™ä¸€ä¸ªæ–°ç±»ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;StockInfo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; StockInfo(&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; symbol, &lt;span style=&#34;color:#8be9fd&#34;&gt;decimal&lt;/span&gt; price)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Symbol = symbol;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        PrevPrice = price;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt; Symbol { &lt;span style=&#34;color:#ff79c6&#34;&gt;get&lt;/span&gt;; &lt;span style=&#34;color:#ff79c6&#34;&gt;set&lt;/span&gt;; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;decimal&lt;/span&gt; PrevPrice { &lt;span style=&#34;color:#ff79c6&#34;&gt;get&lt;/span&gt;; &lt;span style=&#34;color:#ff79c6&#34;&gt;set&lt;/span&gt;; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹åä½ å¯ä»¥åœ¨ &lt;code&gt;StockMonitor&lt;/code&gt; ä¸­å£°æ˜ä¸€ä¸ª &lt;code&gt;StockInfo&lt;/code&gt; ç±»å‹çš„å±æ€§ã€‚&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;æ¯å½“è‚¡ç¥¨å˜åŒ–æ—¶ï¼Œ&lt;code&gt;OnStockTick&lt;/code&gt;  å°±ä¼šè¢«è°ƒç”¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„åº”ç”¨è¿˜è¦å®ç°ä¸€ä¸ªæ–°æ—§æ•°æ®æ¯”è¾ƒçš„åŠŸèƒ½ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ &lt;code&gt;TryGetValue&lt;/code&gt; æ–¹æ³•ã€‚å½“æˆ‘ä»¬æƒ³è¦çš„å€¼å­˜åœ¨æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ª &lt;code&gt;true&lt;/code&gt;ã€‚åœ¨ &lt;code&gt;StockMonitor&lt;/code&gt; ä¸­ç¼–å†™ä»¥ä¸‹ä»£ç ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; _stockInfos = &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; Dictionary&amp;lt;&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;, StockInfo&amp;gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; OnStockTick(&lt;span style=&#34;color:#8be9fd&#34;&gt;object&lt;/span&gt; sender, StockTick stockTick)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    StockInfo stockInfo;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; quoteSymbol = stockTick.QuoteSymbol;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; stockInfoExists = _stockInfos.TryGetValue(quoteSymbol, &lt;span style=&#34;color:#ff79c6&#34;&gt;out&lt;/span&gt; stockInfo);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;å¦‚æœä¸€ä¸ªè‚¡ç¥¨æ•°æ®å­˜åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¯”è¾ƒå¤§å°äº†ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;decimal&lt;/span&gt; maxChangeRatio = &lt;span style=&#34;color:#bd93f9&#34;&gt;0.1&lt;/span&gt;m;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; quoteSymbol = stockTick.QuoteSymbol;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; stockInfoExists = _stockInfos.TryGetValue(quoteSymbol, &lt;span style=&#34;color:#ff79c6&#34;&gt;out&lt;/span&gt; stockInfo);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (stockInfoExists)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; priceDiff = stockTick.Price-stockInfo.PrevPrice; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;// å˜åŒ–çš„ç™¾åˆ†æ¯”&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; changeRatio = Math.Abs(priceDiff/stockInfo.PrevPrice); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (changeRatio &amp;gt; maxChangeRatio)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#6272a4&#34;&gt;// ç®€å•æ‰“å°ä¸ªä¿¡æ¯ï¼Œç”¨çš„æ˜¯ C# 6.0 ä»¥å‰çš„å†™æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Console.WriteLine(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Stock:{0} has changed with {1} ratio, Old Price:{2} New Price:{3}&amp;#34;&lt;/span&gt;, quoteSymbol, changeRatio, stockInfo.PrevPrice, stockTick.Price);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#6272a4&#34;&gt;//ä¿å­˜è¿™ä¸ªæ–°æ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     _stockInfos[quoteSymbol].PrevPrice = stockTick.Price; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;é‚£å¦‚æœæˆ‘ä»¬ä¸æƒ³è¦è®¢é˜…è‚¡ç¥¨æ¶ˆæ¯äº†å’‹åŠï¼Ÿå¹¸è¿çš„æ˜¯ .NET æä¾›äº†æ–¹æ³•æ¥å¹²è¿™ä¸ªæ´»ã€‚åœ¨ &lt;code&gt;StockMonitor&lt;/code&gt; é‡Œç¼–å†™ä»¥ä¸‹æ–¹æ³•ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; Dispose()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _ticker.StockTick -= OnStockTick; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _stockInfos.Clear();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;å†™ä¸€ç‚¹å‡æ•°æ®ï¼Œæµ‹è¯•ä¸€ä¸‹ç»“æœï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// çç¼–çš„
Symbol: &amp;#34;MSFT&amp;#34; Price: 100
Symbol: &amp;#34;INTC&amp;#34; Price: 150
Symbol: &amp;#34;MSFT&amp;#34; Price: 170
Symbol: &amp;#34;MSFT&amp;#34; Price: 195

// è¿è¡Œç»“æœ
Stock:MSFT has changed with 0.7 ratio, Old Price:100 New Price:170
Stock:MSFT has changed with 0.15 ratio, Old Price:170 New Price:195.5
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å“‡å“¦ï¼Œæ„Ÿè§‰è¿˜ä¸é”™å˜›ï¼&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ä¹ˆå†™å°±ä¸€ç‚¹é—®é¢˜æ²¡æœ‰å—ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&#34;å¹¶å‘é—®é¢˜&#34;&gt;å¹¶å‘é—®é¢˜&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬çš„ç¨‹åºè¿è¡Œèµ·æ¥æ²¡å•¥é—®é¢˜ï¼Œä½†èƒŒåæœ‰ä¸ªä¸¥é‡æ¼æ´ï¼š&lt;/p&gt;
&lt;p&gt;ä¸æ˜¯&lt;strong&gt;å¹¶å‘&lt;/strong&gt;çš„ï¼&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;StockMonitor&lt;/code&gt; è¿è¡ŒæœŸé—´åˆæœ‰æ–°çš„è‚¡ç¥¨å˜åŒ–å’‹åŠï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¾ˆæŠ±æ­‰ï¼Œåªèƒ½ç­‰ç€ç¬¬ä¸€æ¬¡ç¨‹åºç»“æŸã€‚&lt;/p&gt;
&lt;h3 id=&#34;çº¿ç¨‹ä¸å®‰å…¨&#34;&gt;çº¿ç¨‹ä¸å®‰å…¨&lt;/h3&gt;
&lt;p&gt;è™½ç„¶æˆ‘ä»¬çš„ &lt;code&gt;StockInfo&lt;/code&gt; å­—å…¸æ”¯æŒå¤šè¯»è€…ï¼ˆMultiple Readersï¼‰åŒæ—¶è¯»å–ï¼Œä½†å½“æˆ‘ä»¬è¯»å–å­—å…¸æ—¶å­—å…¸æ­£åœ¨è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä½ å¯èƒ½ä¼šè¯´ï¼Œå¯ä»¥æ”¹ç”¨ .NET æä¾›çš„æ— é” &lt;code&gt;ConcurrentDictionary&lt;/code&gt; å‘€ï¼è¿™æ ·å°±ä¸æŠ¥é”™äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œé‚£æˆ‘ä»¬æ¯æ¬¡æ¯”è¾ƒçš„&lt;strong&gt;æ–°å€¼&lt;/strong&gt;åˆæ˜¯è°ï¼Ÿæ˜¯ä¿®æ”¹å‰çš„ï¼Œè¿˜æ˜¯ä¿®æ”¹åçš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä½ å¯èƒ½åˆä¼šè¯´ï¼Œå¯ä»¥ä½¿ç”¨çº¿ç¨‹é”ï¼ˆThread Lockï¼‰æ¥é˜»å¡ä¸¤ä¸ªåŒæ—¶å‘ç”Ÿçš„çº¿ç¨‹çš„å…¶ä¸­ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;å¯æ˜¯å¦‚æœèµ„æºä¸åŠæ—¶é‡Šæ”¾ï¼Œåˆå¾ˆå®¹æ˜“å¯¼è‡´&lt;strong&gt;æ­»é”&lt;/strong&gt;é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å“åº”å¼å†™æ³•&#34;&gt;å“åº”å¼å†™æ³•&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ Rx çš„è¯ï¼Œä¼ ç»Ÿäº‹ä»¶å†™æ³•æš´éœ²å‡ºçš„é—®é¢˜å¯ä»¥é€šè¿‡æ›´ç®€å•çš„æ–¹å¼è§£å†³ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…-rxnet&#34;&gt;å®‰è£… Rx.NET&lt;/h3&gt;
&lt;p&gt;ä½ éƒ½çœ‹åˆ°è¿™é‡Œäº†ï¼Œç›¸ä¿¡å’‹å®‰è£…æ ¹æœ¬ä¸ç”¨æˆ‘æ•™ä½ ã€‚&lt;/p&gt;
&lt;p&gt;Rx.NET æ”¾åœ¨ &lt;code&gt;System.Reactive&lt;/code&gt; åç§°ç©ºé—´ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äº‹ä»¶è½¬æ¢&#34;&gt;äº‹ä»¶è½¬æ¢&lt;/h3&gt;
&lt;p&gt;Rx.NET æä¾›äº†å¥½ç”¨çš„ &lt;code&gt;FromEventPattern&lt;/code&gt; æ–¹æ³•ï¼Œå¸®åŠ©æˆ‘ä»¬å°†äº‹ä»¶è½¬æ¢æˆå¯è§‚å¯Ÿå¯¹è±¡ï¼ˆObservableï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IObservable&amp;lt;EventPattern&amp;lt;StockTick&amp;gt;&amp;gt; ticks =
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Observable.FromEventPattern&amp;lt;EventHandler&amp;lt;StockTick&amp;gt;, StockTick&amp;gt;( 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            h =&amp;gt; ticker.StockTick += h, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            h =&amp;gt; ticker.StockTick -= h);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è°”è°”ï¼Œçœ‹ä¸æ‡‚æ&amp;hellip;&lt;/p&gt;
&lt;p&gt;é‚£æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•çš„å®šä¹‰å§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;FromEventPattern&amp;lt;TDelegate,TEventArgs(Action&amp;lt;TDelegate&amp;gt;addHandler, Action&amp;lt;TDelegate&amp;gt; removeHandler)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;TDelegate&lt;/code&gt; æ˜¯åŒ¹é…äº‹ä»¶çš„å§”æ‰˜ â†’ &lt;code&gt;EventHandler&amp;lt;StockTick&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TEventArgs&lt;/code&gt; å°±æ˜¯ &lt;code&gt;EventArgs&lt;/code&gt;  â†’  &lt;code&gt;StockTick&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;addHandler&lt;/code&gt; å’Œ &lt;code&gt;removeHandler&lt;/code&gt; ä¸€èˆ¬å°±ç›´æ¥å†™æˆ Lambda è¡¨è¾¾å¼çš„å½¢å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä»¬åªå…³å¿ƒä¼ å…¥çš„ &lt;code&gt;EventArgs&lt;/code&gt;ï¼Œæ‰€ä»¥ä»£ç å¯ä»¥æ”¹å†™æˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; ticks = Observable.FromEventPattern&amp;lt;EventHandler&amp;lt;StockTick&amp;gt;, StockTick&amp;gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            h =&amp;gt; ticker.StockTick += h, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            h =&amp;gt; ticker.StockTick -= h) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .Select(tickEvent =&amp;gt; tickEvent.EventArgs);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ•°æ®å¤„ç†&#34;&gt;æ•°æ®å¤„ç†&lt;/h3&gt;
&lt;p&gt;ç°åœ¨ä½ å·²ç»æœ‰äº†ä¸€ä¸ªå¯è§‚å¯Ÿçš„æ•°æ®æµäº†ï¼Œæˆ‘ä»¬å°†å›´ç»•å®ƒå±•å¼€æŸ¥è¯¢æ“ä½œï¼Œå°±åƒ LINQ ä¸€æ ·ã€‚&lt;/p&gt;
&lt;h4 id=&#34;åˆ†ç»„-group&#34;&gt;åˆ†ç»„ Group&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬è¯•ç€é€šè¿‡ &lt;code&gt;Symbol&lt;/code&gt; æ¥ä¸ºæ¯æ”¯è‚¡ç¥¨åˆ†ç»„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// æŸ¥è¯¢è¯­å¥å½¢å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; tick &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; ticks 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt; tick &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt; tick.QuoteSymbol &lt;span style=&#34;color:#ff79c6&#34;&gt;into&lt;/span&gt; company
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// å‡½æ•°å½¢å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ticks.GroupBy(tick =&amp;gt; tick.QuoteSymbol);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;company.png&#34; alt=&#34;Company&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;åˆ†æ‰¹-buffer&#34;&gt;åˆ†æ‰¹ Buffer&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Buffer&lt;/code&gt; ç”¨äºåŒç»„å†…å†åˆ†æ‰¹ï¼ˆBatchï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œæ˜¯åŒç»„å†…æ•°æ®ä¸¤ä¸¤å‰åæ¯”è¾ƒï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;batch.png&#34; alt=&#34;Batch&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;buffer.png&#34; alt=&#34;Buffer&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; tick &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; ticks
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt; tick &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt; tick.QuoteSymbol &lt;span style=&#34;color:#ff79c6&#34;&gt;into&lt;/span&gt; company
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; tickPair &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; company.Buffer(&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;let&lt;/span&gt; changeRatio = Math.Abs((tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;].Price - tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;].Price) / 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;].Price)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;abs.png&#34; alt=&#34;Abs&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ€åå…¨éƒ¨çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;decimal&lt;/span&gt; maxChangeRatio = &lt;span style=&#34;color:#bd93f9&#34;&gt;0.1&lt;/span&gt; m;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; drasticChanges = 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; tick &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; ticks
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt; tick &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt; tick.QuoteSymbol
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;into&lt;/span&gt; company
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; tickPair &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; company.Buffer(&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;let&lt;/span&gt; changeRatio = Math.Abs((tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;].Price - tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;].Price) / tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;].Price)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;where&lt;/span&gt; changeRatio &amp;gt; maxChangeRatio
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; DrasticChange()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Symbol = company.Key,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ChangeRatio = changeRatio,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        OldPrice = tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;].Price,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        NewPrice = tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;].Price
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;all.png&#34; alt=&#34;Result&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ¶ˆè´¹æ•°æ®&#34;&gt;æ¶ˆè´¹æ•°æ®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;_subscription = 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    drasticChanges.Subscribe(change =&amp;gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Console.WriteLine(&lt;span style=&#34;color:#f1fa8c&#34;&gt;$&amp;#34;Stock:{change.Symbol} has changed with {change.ChangeRatio} ratio, 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;        Old Price: {change.OldPrice} 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;        New Price: {change.NewPrice}&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    },
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ex =&amp;gt; { &lt;span style=&#34;color:#6272a4&#34;&gt;/* å¤„ç†é”™è¯¯ */&lt;/span&gt;}, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    () =&amp;gt; {&lt;span style=&#34;color:#6272a4&#34;&gt;/* å“åº”ä»»åŠ¡å®Œæˆ */&lt;/span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å–æ¶ˆè®¢é˜…&#34;&gt;å–æ¶ˆè®¢é˜…&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; Dispose()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    _subscription.Dispose();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åŒæ­¥æµ&#34;&gt;åŒæ­¥æµ&lt;/h3&gt;
&lt;p&gt;è¿˜è®°å¾—æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨äº‹ä»¶ç³»ç»Ÿçš„é—®é¢˜å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¼‚æ­¥ IO ä¼šå¯¼è‡´çº¿ç¨‹ä¸å®‰å…¨ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤æˆ‘ä»¬è¦å°†æˆ‘ä»¬çš„ &lt;code&gt;ticks&lt;/code&gt; å¯è§‚å¯Ÿæ•°æ®æµè½¬æ¢æˆåŒæ­¥çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; ticks = Observable.FromEventPattern&amp;lt;EventHandler&amp;lt;StockTick&amp;gt;, StockTick&amp;gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            h =&amp;gt; ticker.StockTick += h, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            h =&amp;gt; ticker.StockTick -= h) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .Select(tickEvent =&amp;gt; tickEvent.EventArgs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        .Synchronize();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ€»è§ˆä»£ç &#34;&gt;æ€»è§ˆä»£ç &lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;RxStockMonitor&lt;/span&gt; : IDisposable
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;private&lt;/span&gt; IDisposable _subscription;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; RxStockMonitor(StockTicker ticker)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#8be9fd&#34;&gt;decimal&lt;/span&gt; maxChangeRatio = &lt;span style=&#34;color:#bd93f9&#34;&gt;0.1&lt;/span&gt;m;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; ticks = 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            Observable.FromEventPattern&amp;lt;EventHandler&amp;lt;StockTick&amp;gt;, StockTick&amp;gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    h =&amp;gt; ticker.StockTick += h, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    h =&amp;gt; ticker.StockTick -= h) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                .Select(tickEvent =&amp;gt; tickEvent.EventArgs)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                .Synchronize(); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; drasticChanges = 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; tick &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; ticks 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;group&lt;/span&gt; tick &lt;span style=&#34;color:#ff79c6&#34;&gt;by&lt;/span&gt; tick.QuoteSymbol 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;into&lt;/span&gt; company 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; tickPair &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; company.Buffer(&lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;let&lt;/span&gt; changeRatio = Math.Abs((tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;].Price -
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                        tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;].Price)/tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;].Price) 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;where&lt;/span&gt; changeRatio &amp;gt; maxChangeRatio 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            { 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                Symbol = company.Key, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ChangeRatio = changeRatio, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                OldPrice = tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;].Price, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                NewPrice = tickPair[&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;].Price 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        _subscription = 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            drasticChanges.Subscribe(change =&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                { 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    WriteLine(&lt;span style=&#34;color:#f1fa8c&#34;&gt;$&amp;#34;Stock:{change.Symbol} has changed
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;                        with {change.ChangeRatio} ratio,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;                    Old Price: {change.OldPrice} 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;                    New Price: {change.NewPrice}&amp;#34;&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                }, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ex =&amp;gt; { &lt;span style=&#34;color:#6272a4&#34;&gt;/* å¤„ç†é”™è¯¯ */&lt;/span&gt;}, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                () =&amp;gt;{&lt;span style=&#34;color:#6272a4&#34;&gt;/* å“åº”ä»»åŠ¡å®Œæˆ */&lt;/span&gt;});
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; Dispose() 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        _subscription.Dispose();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;rx-çš„ä¼˜ç‚¹&#34;&gt;Rx çš„ä¼˜ç‚¹&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å·²ç»ç”¨ä¸¤ç§æ–¹å¼ç¼–å†™äº†è¿™ä¸ªè‚¡ç¥¨ç›‘æ§ç¨‹åºï¼Œæ˜¯æ—¶å€™æ¯”è¾ƒä¸¤ç§å†™æ³•äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä»£ç æ›´ç´§å‡‘ï¼šæ‰€æœ‰é€»è¾‘é›†ä¸­åœ¨ä¸€èµ·&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´å°‘çš„èµ„æºå ç”¨ï¼šRx å‡ ä¹æ²¡æœ‰èµ„æºå¤„ç†çš„å¼€é”€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼ºå¤§çš„æ“ä½œç¬¦ï¼šRx æœ€æ˜æ˜¾çš„ä¼˜åŠ¿&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´ç®€å•åœ°åŒæ­¥ï¼šä¸€ä¸ª &lt;code&gt;Synchronize&lt;/code&gt; æ–¹æ³•è¶³çŸ£&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
- https://kyocius.github.io/posts/dotnet/reactive/rx-magic-2/ - Kyocius. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</description>
        </item>
    
    
    
        <item>
        <title>Rx.NET å“åº”å¼ç¼–ç¨‹æŒ‡åŒ— 01 - åŸºç¡€æ¦‚å¿µ</title>
        <link>https://kyocius.github.io/posts/dotnet/reactive/rx-magic-1/</link>
        <pubDate>Sun, 07 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://kyocius.github.io/posts/dotnet/reactive/rx-magic-1/</guid>
        <description>æ¸¸å°”æ¸¯ https://kyocius.github.io/posts/dotnet/reactive/rx-magic-1/ -&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;æœ€è¿‘åˆšè¯»äº† &lt;em&gt;Rx.NET in Action&lt;/em&gt;ï¼Œå­¦åˆ°çš„æ–°æ¦‚å¿µéå¸¸å¤šï¼Œæ‹…å¿§è‡ªå·±ä¼šæ—¥æ¸é—å¿˜ï¼Œè§‰å¾—æœ‰å¿…è¦å†™ä¸€ç¯‡åšå®¢è®°å½•ä¸€ä¸‹ï¼Œè¯´ä¸å®šä¹Ÿèƒ½å¸®åˆ°ä¸€äº›å¿—åŒé“åˆçš„æœ‹å‹ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç³»åˆ—å°†ä¼šä½¿ç”¨æˆ‘æ·±çˆ±çš„ C# è¯­è¨€å’Œ Rx.NET æ¡†æ¶æ¥è®²è§£å“åº”å¼ç¼–ç¨‹ï¼ˆReactive Programmingï¼‰çš„é­”æ³• â•°(&lt;em&gt;Â°â–½Â°&lt;/em&gt;)â•¯&lt;/p&gt;
&lt;h2 id=&#34;èƒŒæ™¯çŸ¥è¯†&#34;&gt;èƒŒæ™¯çŸ¥è¯†&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;C# ä¸­çš„&lt;strong&gt;å§”æ‰˜&lt;/strong&gt;ã€&lt;strong&gt;æ³›å‹&lt;/strong&gt;ã€&lt;strong&gt;äº‹ä»¶&lt;/strong&gt;ä»¥åŠ &lt;strong&gt;LINQ&lt;/strong&gt; ç­‰æ¦‚å¿µ&lt;/li&gt;
&lt;li&gt;Rx = Reactive Extension&lt;/li&gt;
&lt;li&gt;Rx æ˜¯ç”±&lt;strong&gt;å¾®è½¯&lt;/strong&gt;æ——ä¸‹ä¸€ä¸ªå®éªŒå®¤å‘èµ·çš„  &lt;del&gt;å·¨ç¡¬å¤§æ³•å¥½&lt;/del&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å“åº”å¼æ¦‚å¿µ&#34;&gt;å“åº”å¼æ¦‚å¿µ&lt;/h2&gt;
&lt;p&gt;Rx åˆ°åº•æ˜¯å¹²å•¥çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ¥çœ‹çœ‹å¾®è½¯çš„è§£é‡Šï¼šRx = Observables + LINQ + Schedulersã€‚è°”è°”ï¼Œå•¥ç©æ„å„¿ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é‚£çœ‹çœ‹å¤§ä½¬æ€ä¹ˆè§£é‡Šçš„å§ï¼šRx = å¤„ç†å¼‚æ­¥æ•°æ®æµã€‚è¿™ä¸ªè§£é‡Šè¿˜è¡Œï¼Œä½†è¿˜æ˜¯ä¸æ˜ç™½ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ˜¯æ›´é€šä¿—çš„è§£é‡Šï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; a = &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; b = &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8be9fd&#34;&gt;var&lt;/span&gt; c = a + b; &lt;span style=&#34;color:#6272a4&#34;&gt;// c çš„å€¼æ˜¾ç„¶ä¸º 3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“ä½ æ”¹å˜ &lt;code&gt;a&lt;/code&gt; æˆ–è€… &lt;code&gt;b&lt;/code&gt; å€¼çš„æ—¶å€™ï¼ŒæŒ‰ç…§æˆ‘ä»¬ä»¥å‰çš„æ€ç»´ï¼Œ&lt;code&gt;c&lt;/code&gt; çš„å€¼å¹¶ä¸ä¼šéšä¹‹å‘ç”Ÿå˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æƒ³è¦ &lt;code&gt;c&lt;/code&gt; çš„å€¼éšä¹‹è€Œæ”¹å˜å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå¿«å¿«ä½¿ç”¨ &lt;strong&gt;Rx&lt;/strong&gt;ï¼&lt;/p&gt;
&lt;h3 id=&#34;å¯è§‚å¯Ÿå¯¹è±¡-observable&#34;&gt;å¯è§‚å¯Ÿå¯¹è±¡ Observable&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;interface&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;IObservable&lt;/span&gt;&amp;lt;T&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    IDisposable Subscribe(IObserver&amp;lt;T&amp;gt; observer);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æ¥å£åªæœ‰ä¸€ä¸ªæ–¹æ³• &lt;code&gt;Subscribe&lt;/code&gt;ï¼Œè¿”å› &lt;code&gt;IDisposable&lt;/code&gt; å¯¹è±¡ï¼ˆä»£è¡¨ç€è®¢é˜…äº‹ä»¶æœ¬èº«ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Observable&lt;/code&gt; æŒæœ‰ &lt;code&gt;Observer&lt;/code&gt; çš„é›†åˆï¼Œåœ¨å€¼æ”¹å˜æ—¶éšæ—¶é€šçŸ¥å®ƒä»¬&lt;/li&gt;
&lt;li&gt;&lt;code&gt;IDisposable&lt;/code&gt; å¯¹è±¡å¯ä»¥é€šè¿‡  &lt;code&gt;Dispose&lt;/code&gt; æ–¹æ³•éšæ—¶å–æ¶ˆè®¢é˜…&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è§‚å¯Ÿè€…-observer&#34;&gt;è§‚å¯Ÿè€… Observer&lt;/h3&gt;
&lt;p&gt;è§‚å¯Ÿè€…çš„æºç å…¶å®ä¹Ÿå¾ˆç®€å•ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;interface&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;IObserver&lt;/span&gt;&amp;lt;T&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; OnNext(T &lt;span style=&#34;color:#ff79c6&#34;&gt;value&lt;/span&gt;); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; OnError(Exception error); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;void&lt;/span&gt; OnCompleted(); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;OnNext&lt;/code&gt; æ–¹æ³•å®šä¹‰å½“è§‚æµ‹çš„å€¼å‡ºç°å˜åŒ–æ—¶ï¼Œè¯¥åšä»€ä¹ˆï¼ˆç±»æ¯”è¿­ä»£ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OnError&lt;/code&gt; æ–¹æ³•å®šä¹‰å®ƒå‡ºç°é”™è¯¯æ—¶è¯¥åšä»€ä¹ˆ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OnCompleted&lt;/code&gt; æ–¹æ³•å®šä¹‰å®ƒä»»åŠ¡å®Œæˆæ—¶è¯¥åšä»€ä¹ˆ&lt;/li&gt;
&lt;li&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šå‘ç”Ÿé”™è¯¯æ—¶ï¼Œæ•°æ®æµå°±ä¼šä¸­æ–­&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ“ä½œç¬¦-operator&#34;&gt;æ“ä½œç¬¦ Operator&lt;/h3&gt;
&lt;p&gt;Rx å¸¦æ¥äº†æµ·é‡çš„æ“ä½œç¬¦ï¼Œå¸®åŠ©æˆ‘ä»¬åˆ†ç±»ã€æŸ¥æ‰¾ã€è½¬æ¢æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;Rx.NET çš„æ“ä½œç¬¦ä¸å…¶å®ƒè¯­è¨€çš„ Rx ä¸åŒçš„æ˜¯ï¼Œæ“ä½œç¬¦é‡‡ç”¨äº†åŸæ±åŸå‘³çš„ LINQ é£æ ¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ¥ç‚¹ç®€å•å®ä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IObservable&amp;lt;&lt;span style=&#34;color:#8be9fd&#34;&gt;string&lt;/span&gt;&amp;gt; strings= ... &lt;span style=&#34;color:#6272a4&#34;&gt;// æ•°æ®æº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IDisposable subscription = strings &lt;span style=&#34;color:#6272a4&#34;&gt;// ä¸€ä¸ª IDisposable ä»£è¡¨äº†è®¢é˜…äº‹ä»¶æœ¬èº«&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .Where(str =&amp;gt; str.StartsWith(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;A&amp;#34;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .Select(str =&amp;gt; str.ToUpper())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    .Subscribe(...); &lt;span style=&#34;color:#6272a4&#34;&gt;// ä¼ å…¥ Observer æˆ–ç›´æ¥ä¼  OnNext æ–¹æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;subscription.Dispose(); &lt;span style=&#34;color:#6272a4&#34;&gt;// ä¸Šé¢è¯´è¿‡äº†ï¼Œå¯ä»¥éšæ—¶å–æ¶ˆè®¢é˜…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„ä»£ç è¯»èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆæµç•…ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®ç¬¬ä¸€è¡Œçœç•¥äº†å¦‚ä½•åˆ›å»ºå¯è§‚å¯Ÿæ•°æ®æºï¼Œä¸“æ³¨äºæ“ä½œç¬¦æœ¬èº«ï¼Œè¦ä¸ç„¶å¤ªåŠé€€äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•åˆ›å»ºå¯è§‚å¯Ÿçš„æ•°æ®æºå°†åœ¨åé¢çš„ç« èŠ‚è®²è§£ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç†è§£äº‹ä»¶å’Œæµ-events--streams&#34;&gt;ç†è§£äº‹ä»¶å’Œæµ Events &amp;amp; Streams&lt;/h2&gt;
&lt;p&gt;äº‹ä»¶éå¸¸å¥½ç†è§£ï¼Œæ¯”å¦‚æˆ‘ä»¬ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®å°±æ˜¯ä¸€ä¸ªäº‹ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ C# ä¸­ï¼Œäº‹ä»¶ç”±&lt;strong&gt;æ•°æ®æº&lt;/strong&gt;ã€ŒEvent Sourceã€å’Œ&lt;strong&gt;å¤„ç†å™¨&lt;/strong&gt;ã€ŒEvent Handlerã€ç»„æˆã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Rx ä¸­ï¼Œã€ŒEvent Sourceã€å¯¹åº”ã€ŒObservableã€è€Œã€ŒEvent Handlerã€å¯¹åº”ã€ŒObserverã€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‡ç‰©çš†æµ&#34;&gt;ä¸‡ç‰©çš†æµ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;A data stream is like a hose: every drop of water is a data packet that needs to go through stations until it reaches the end. Your data also needs to be filtered and transformed until  it gets to the real handler that does something useful with it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸Šé¢è¿™æ®µ Quote æ¥è‡ª &lt;em&gt;Rx.NET in Action&lt;/em&gt;ï¼Œå¤§è‡´çš„æ„æ€å°±æ˜¯æ•°æ®å°±åƒæ°´ç®¡å­ä¸€æ ·ï¼Œæˆ‘ä»¬é€šè¿‡æ“ä½œç¬¦è¿‡æ»¤æ°´æµï¼Œæœ€åé€šè¿‡å–·å¤´å°†æ°´æµä¼ æ’­ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºè¿™æ˜¯å“åº”å¼çš„æ ¸å¿ƒæ¦‚å¿µã€‚åªè¦ä½ æƒ³æŒç»­åœ°ç›‘å¬æŸæ•°æ®çš„å˜åŒ–ï¼Œé‚£ä¹ˆä½¿ç”¨ Rx è®©æ•°æ®å˜æˆå¯è§‚å¯Ÿæµï¼Œç»å¯¹æ˜¯ä¸ªå¥½ä¸»æ„ã€‚&lt;/p&gt;
- https://kyocius.github.io/posts/dotnet/reactive/rx-magic-1/ - Kyocius. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</description>
        </item>
    
    
  </channel>
</rss> 